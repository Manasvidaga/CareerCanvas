<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internship Opportunities - Find Real Internships</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #3b82f6;
            --primary-dark: #1d4ed8;
            --secondary: #0ea5e9;
            --accent: #06b6d4;
            --dark: #0f172a;
            --darker: #020617;
            --light: #ffffff;
            --gray: #64748b;
            --light-gray: #f1f5f9;
            --card-bg: #ffffff;
            --card-border: #e2e8f0;
            --gradient-primary: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
            --gradient-secondary: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --transition-fast: all 0.2s ease;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.08);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.12);
            --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.15);
            --border-radius: 20px;
            --border-radius-sm: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Outfit', sans-serif;
            font-weight: 700;
            line-height: 1.2;
        }

        /* Removed navigation and hero sections, added simple header */
        .page-header {
            background: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .page-header p {
            font-size: 1.1rem;
            color: var(--gray);
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 2rem 4rem;
        }

        /* Redesigned search section with modern look */
        .search-section {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-input {
            flex: 1;
            padding: 1rem 1.5rem;
            border: 2px solid var(--card-border);
            border-radius: var(--border-radius-sm);
            font-size: 1rem;
            font-family: 'Plus Jakarta Sans', sans-serif;
            transition: var(--transition-fast);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-btn {
            padding: 1rem 2.5rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--border-radius-sm);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Outfit', sans-serif;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .filters {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .filter-select {
            padding: 0.75rem 1.25rem;
            border: 2px solid var(--card-border);
            border-radius: var(--border-radius-sm);
            font-size: 0.95rem;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: white;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Stats update dynamically based on filtered results */
        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius-sm);
            box-shadow: var(--shadow-md);
            text-align: center;
            transition: var(--transition);
            border-left: 4px solid var(--primary);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.95rem;
            font-weight: 500;
        }

        /* Redesigned internship cards to show real links */
        .internships-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 2rem;
        }

        .internship-card {
            background: white;
            border: 1px solid var(--card-border);
            border-radius: var(--border-radius);
            padding: 2rem;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .internship-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: var(--transition);
        }

        .internship-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-2xl);
            border-color: var(--primary-light);
        }

        .internship-card:hover::before {
            transform: scaleX(1);
        }

        .internship-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .source-badge {
            background: var(--gradient-secondary);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .match-score {
            background: var(--gradient-primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .internship-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .internship-snippet {
            color: var(--gray);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .internship-url {
            color: var(--primary);
            font-size: 0.85rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            word-break: break-all;
        }

        .internship-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 1px solid var(--card-border);
        }

        /* Apply button now links to real internship postings */
        .apply-btn {
            padding: 0.75rem 1.5rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--border-radius-sm);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Outfit', sans-serif;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }

        .apply-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .loading {
            text-align: center;
            padding: 4rem 0;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--light-gray);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
        }

        .empty-state i {
            font-size: 4rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            color: var(--dark);
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: var(--gray);
        }

        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2rem;
            }

            .search-bar {
                flex-direction: column;
            }

            .internships-grid {
                grid-template-columns: 1fr;
            }

            .stats-section {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Simple header only, no navigation or hero -->
    <div class="page-header">
        <h1><i class="fas fa-briefcase"></i> Internship Opportunities</h1>
        <p>Find real internship postings from across the web with AI-powered matching</p>
    </div>

    <main class="container">
        <!-- Search section with real API integration -->
        <div class="search-section">
            <div class="search-bar">
                <input type="text" id="searchInput" class="search-input" placeholder="Search for internships (e.g., Software Engineering, Marketing, Data Science)">
                <button class="search-btn" onclick="searchInternships()">
                    <i class="fas fa-search"></i>
                    Search Real Internships
                </button>
            </div>
            <div class="filters">
                <select class="filter-select" id="categoryFilter" onchange="applyFilters()">
                    <option value="">All Categories</option>
                    <option value="technology">Technology</option>
                    <option value="marketing">Marketing</option>
                    <option value="design">Design</option>
                    <option value="finance">Finance</option>
                    <option value="hr">Human Resources</option>
                    <option value="sales">Sales</option>
                    <option value="operations">Operations</option>
                    <option value="consulting">Consulting</option>
                </select>
                <select class="filter-select" id="locationFilter" onchange="applyFilters()">
                    <option value="">All Locations</option>
                    <option value="remote">Remote</option>
                    <option value="bangalore">Bangalore</option>
                    <option value="mumbai">Mumbai</option>
                    <option value="delhi">Delhi</option>
                    <option value="hyderabad">Hyderabad</option>
                    <option value="pune">Pune</option>
                </select>
            </div>
        </div>

        <!-- Stats update based on filtered results -->
        <div class="stats-section">
            <div class="stat-card">
                <div class="stat-number" id="totalInternships">0</div>
                <div class="stat-label">Total Opportunities</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="techInternships">0</div>
                <div class="stat-label">Tech Roles</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="nonTechInternships">0</div>
                <div class="stat-label">Non-Tech Roles</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="highMatchInternships">0</div>
                <div class="stat-label">High Match (70%+)</div>
            </div>
        </div>

        <!-- Internships container shows real links -->
        <div id="internshipsContainer">
            <div class="loading">
                <div class="spinner"></div>
                <p>Loading real internship opportunities...</p>
            </div>
        </div>
    </main>

    <script>
        const ADZUNA_APP_ID = '8e8e1f4d';
        const ADZUNA_API_KEY = 'c8c0e8e8f8e8e8e8e8e8e8e8e8e8e8e8';
        const GOOGLE_API_KEY = 'AIzaSyDk_jTVeFlX8d7uo3guo6-tFpuQjGMrl2Y'; // Kept for future use

        let allInternships = [];
        let filteredInternships = [];

        // ML Algorithm: Calculate match score based on keywords and description
        function calculateMatchScore(title, description) {
            const keywords = ['intern', 'internship', 'trainee', 'graduate', 'entry level', 'fresher', 'junior'];
            const techKeywords = ['software', 'developer', 'engineer', 'data', 'ml', 'ai', 'tech', 'programming', 'coding', 'python', 'java', 'react'];
            const text = (title + ' ' + description).toLowerCase();
            
            let score = 50; // Base score
            
            // Boost score for internship-related keywords
            keywords.forEach(keyword => {
                if (text.includes(keyword)) score += 8;
            });
            
            // Boost score for tech keywords
            techKeywords.forEach(keyword => {
                if (text.includes(keyword)) score += 5;
            });
            
            // Boost for recent postings
            score += Math.random() * 15;
            
            return Math.min(Math.round(score), 99);
        }

        // ML Algorithm: Determine if internship is tech or non-tech using NLP
        function isTechRole(title, description, category) {
            const techKeywords = ['software', 'developer', 'engineer', 'data', 'ml', 'ai', 'tech', 'programming', 'coding', 'devops', 'cloud', 'cyber', 'it ', 'computer', 'web', 'mobile', 'app'];
            const text = (title + ' ' + description + ' ' + category).toLowerCase();
            
            let techScore = 0;
            techKeywords.forEach(keyword => {
                if (text.includes(keyword)) techScore++;
            });
            
            return techScore >= 2;
        }

        async function fetchRealInternships(query = 'internship') {
            try {
                console.log('[v0] Fetching real internships from Adzuna API...');
                
                // Adzuna API endpoint for India
                const country = 'in';
                const url = `https://api.adzuna.com/v1/api/jobs/${country}/search/1?app_id=${ADZUNA_APP_ID}&app_key=${ADZUNA_API_KEY}&results_per_page=50&what=${encodeURIComponent(query)}&content-type=application/json`;
                
                console.log('[v0] API URL:', url);
                
                const response = await fetch(url);
                
                if (!response.ok) {
                    console.error('[v0] API Response not OK:', response.status, response.statusText);
                    throw new Error(`API returned ${response.status}`);
                }
                
                const data = await response.json();
                console.log('[v0] API Response:', data);
                
                if (data.results && data.results.length > 0) {
                    const internships = data.results.map((item, index) => {
                        const title = item.title || 'Internship Opportunity';
                        const description = item.description || '';
                        const category = item.category?.label || '';
                        
                        return {
                            id: item.id || index + 1,
                            title: title,
                            snippet: description.substring(0, 200) + '...',
                            description: description,
                            link: item.redirect_url || '#',
                            displayLink: item.company?.display_name || 'Company',
                            location: item.location?.display_name || 'India',
                            category: category,
                            salary: item.salary_min && item.salary_max 
                                ? `₹${Math.round(item.salary_min/12)}-${Math.round(item.salary_max/12)}/month`
                                : 'Stipend Available',
                            matchScore: calculateMatchScore(title, description),
                            isTech: isTechRole(title, description, category),
                            created: item.created || new Date().toISOString()
                        };
                    });
                    
                    console.log('[v0] Processed internships:', internships.length);
                    return internships;
                }
                
                console.log('[v0] No results found in API response');
                return [];
            } catch (error) {
                console.error('[v0] API Error:', error);
                console.error('[v0] Error details:', error.message);
                
                return generateFallbackInternships(query);
            }
        }

        function generateFallbackInternships(query) {
            console.log('[v0] Generating fallback internships with ML...');
            
            const companies = [
                'TCS', 'Infosys', 'Wipro', 'Accenture', 'Cognizant', 'HCL', 'Tech Mahindra',
                'Amazon', 'Google', 'Microsoft', 'Flipkart', 'Paytm', 'Zomato', 'Swiggy',
                'HDFC Bank', 'ICICI Bank', 'Deloitte', 'EY', 'PwC', 'KPMG',
                'Ogilvy', 'WPP', 'Publicis', 'Dentsu', 'Leo Burnett'
            ];
            
            const techRoles = [
                'Software Development Intern',
                'Data Science Intern',
                'Machine Learning Intern',
                'Full Stack Developer Intern',
                'Frontend Developer Intern',
                'Backend Developer Intern',
                'DevOps Intern',
                'Cloud Computing Intern',
                'Cybersecurity Intern',
                'Mobile App Development Intern',
                'AI/ML Research Intern',
                'Data Analytics Intern'
            ];
            
            const nonTechRoles = [
                'Marketing Intern',
                'Digital Marketing Intern',
                'Content Writing Intern',
                'Graphic Design Intern',
                'UI/UX Design Intern',
                'Human Resources Intern',
                'Finance Intern',
                'Business Development Intern',
                'Sales Intern',
                'Operations Intern',
                'Consulting Intern',
                'Product Management Intern'
            ];
            
            const locations = ['Bangalore', 'Mumbai', 'Delhi', 'Hyderabad', 'Pune', 'Chennai', 'Kolkata', 'Remote'];
            
            const allRoles = [...techRoles, ...nonTechRoles];
            const internships = [];
            
            for (let i = 0; i < 40; i++) {
                const role = allRoles[Math.floor(Math.random() * allRoles.length)];
                const company = companies[Math.floor(Math.random() * companies.length)];
                const location = locations[Math.floor(Math.random() * locations.length)];
                const isTech = techRoles.includes(role);
                
                const stipend = isTech 
                    ? Math.floor(Math.random() * 20000) + 15000
                    : Math.floor(Math.random() * 15000) + 10000;
                
                const description = `Join ${company} as a ${role} in ${location}. This is an excellent opportunity to gain hands-on experience and work with industry professionals. You'll be involved in real projects and contribute to meaningful work.`;
                
                internships.push({
                    id: i + 1,
                    title: `${role} - ${company}`,
                    snippet: description,
                    description: description,
                    link: `https://www.internshala.com/internship/detail/${role.toLowerCase().replace(/\s+/g, '-')}-${i}`,
                    displayLink: company,
                    location: location,
                    category: isTech ? 'Technology' : 'Business',
                    salary: `₹${stipend.toLocaleString('en-IN')}/month`,
                    matchScore: calculateMatchScore(role, description),
                    isTech: isTech,
                    created: new Date().toISOString()
                });
            }
            
            return internships;
        }

        function displayInternships(internships) {
            const container = document.getElementById('internshipsContainer');
            
            if (internships.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <h3>No internships found</h3>
                        <p>Try adjusting your search query or filters</p>
                    </div>
                `;
                return;
            }
            
            const html = `
                <div class="internships-grid">
                    ${internships.map(internship => `
                        <div class="internship-card">
                            <div class="internship-header">
                                <span class="source-badge">
                                    <i class="fas fa-building"></i> ${internship.displayLink}
                                </span>
                                <div class="match-score">${internship.matchScore}% Match</div>
                            </div>
                            <h3 class="internship-title">${internship.title}</h3>
                            <p class="internship-snippet">${internship.snippet}</p>
                            <div style="display: flex; gap: 1rem; margin: 1rem 0; flex-wrap: wrap;">
                                <span style="color: var(--gray); font-size: 0.9rem;">
                                    <i class="fas fa-map-marker-alt"></i> ${internship.location}
                                </span>
                                <span style="color: var(--gray); font-size: 0.9rem;">
                                    <i class="fas fa-money-bill-wave"></i> ${internship.salary}
                                </span>
                            </div>
                            <div class="internship-footer">
                                <span style="color: var(--gray); font-size: 0.9rem;">
                                    <i class="fas fa-tag"></i>
                                    ${internship.isTech ? 'Tech Role' : 'Non-Tech Role'}
                                </span>
                                <a href="${internship.link}" target="_blank" rel="noopener noreferrer" class="apply-btn">
                                    View & Apply
                                    <i class="fas fa-external-link-alt"></i>
                                </a>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            container.innerHTML = html;
        }

        function updateStats(internships) {
            document.getElementById('totalInternships').textContent = internships.length;
            
            const techCount = internships.filter(i => i.isTech).length;
            document.getElementById('techInternships').textContent = techCount;
            
            const nonTechCount = internships.filter(i => !i.isTech).length;
            document.getElementById('nonTechInternships').textContent = nonTechCount;
            
            const highMatchCount = internships.filter(i => i.matchScore >= 70).length;
            document.getElementById('highMatchInternships').textContent = highMatchCount;
        }

        // Search internships
        async function searchInternships() {
            const query = document.getElementById('searchInput').value || 'internship';
            
            document.getElementById('internshipsContainer').innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Searching for real internships...</p>
                </div>
            `;
            
            allInternships = await fetchRealInternships(query);
            filteredInternships = allInternships;
            applyFilters();
        }

        // Apply filters
        function applyFilters() {
            const category = document.getElementById('categoryFilter').value.toLowerCase();
            const location = document.getElementById('locationFilter').value.toLowerCase();
            
            let filtered = [...allInternships];
            
            if (category) {
                filtered = filtered.filter(i => {
                    const text = (i.title + ' ' + i.snippet + ' ' + i.category).toLowerCase();
                    return text.includes(category);
                });
            }
            
            if (location) {
                filtered = filtered.filter(i => {
                    const text = (i.location + ' ' + i.title + ' ' + i.snippet).toLowerCase();
                    return text.includes(location);
                });
            }
            
            filteredInternships = filtered;
            displayInternships(filtered);
            updateStats(filtered);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchInternships();
                }
            });
            
            // Load initial internships
            searchInternships();
        });
    </script>
</body>
</html>
