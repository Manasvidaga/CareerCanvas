<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Canvas - Resume Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Blue Theme Colors */
            --primary-color: #2563eb;
            --secondary-color: #1d4ed8;
            --accent-color: #3b82f6;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --info-color: #0ea5e9;
            --text-color: #1f2937;
            --text-light: #6b7280;
            --card-bg: #ffffff;
            --hover-bg: #f8fafc;
            --border-color: #e5e7eb;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.15);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Background variables */
            --bg-color: #f0f9ff;
            --gradient-1: linear-gradient(135deg, #2563eb 0%, #0ea5e9 100%);
            --gradient-2: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%);
            --gradient-3: linear-gradient(135deg, #06b6d4 0%, #10b981 100%);
        }

        .dark-mode {
            --primary-color: #3b82f6;
            --secondary-color: #2563eb;
            --accent-color: #60a5fa;
            --text-color: #f8fafc;
            --text-light: #cbd5e1;
            --card-bg: #1e293b;
            --hover-bg: #334155;
            --border-color: #475569;
            --bg-color: #0f172a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            transition: var(--transition);
        }

        /* NAVIGATION BAR */
        nav {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }

        .dark-mode nav {
            background-color: rgba(30, 41, 59, 0.95);
            border-bottom: 1px solid rgba(71, 85, 105, 0.8);
        }

        .nav-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            transition: var(--transition);
        }

        .logo:hover {
            transform: translateY(-2px);
        }

        .logo-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 1.3rem;
            box-shadow: var(--shadow-md);
        }

        .logo-text {
            font-size: 1.8rem;
            font-weight: 800;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
            font-size: 1rem;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-1);
            transition: var(--transition);
        }

        .nav-link:hover {
            color: var(--primary-color);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .nav-link.active {
            color: var(--primary-color);
            font-weight: 600;
        }

        .nav-link.active::after {
            width: 100%;
        }

        /* ANIMATED BACKGROUND */
        .pinterest-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            background: 
                radial-gradient(circle at 15% 70%, rgba(37, 99, 235, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 85% 30%, rgba(14, 165, 233, 0.12) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(6, 182, 212, 0.1) 0%, transparent 40%),
                linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 50%, #f0f9ff 100%);
        }

        .dark-mode .pinterest-bg {
            background: 
                radial-gradient(circle at 15% 70%, rgba(59, 130, 246, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 85% 30%, rgba(37, 99, 235, 0.12) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(96, 165, 250, 0.1) 0%, transparent 40%),
                linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
        }

        .particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: var(--primary-color);
            border-radius: 50%;
            opacity: 0.3;
            animation: particleFloat 15s infinite linear;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0.3;
            }
            25% {
                transform: translateY(-20px) translateX(10px) rotate(90deg);
                opacity: 0.5;
            }
            50% {
                transform: translateY(0) translateX(20px) rotate(180deg);
                opacity: 0.3;
            }
            75% {
                transform: translateY(20px) translateX(10px) rotate(270deg);
                opacity: 0.1;
            }
            100% {
                transform: translateY(0) translateX(0) rotate(360deg);
                opacity: 0.3;
            }
        }

        .geometric-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            background-image: 
                radial-gradient(circle at 25% 25%, var(--primary-color) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, var(--secondary-color) 2px, transparent 2px),
                radial-gradient(circle at 50% 10%, var(--accent-color) 1px, transparent 1px);
            background-size: 50px 50px, 30px 30px, 40px 40px;
            animation: patternFloat 20s ease-in-out infinite;
        }

        @keyframes patternFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            33% {
                transform: translateY(-10px) rotate(1deg);
            }
            66% {
                transform: translateY(5px) rotate(-1deg);
            }
        }

        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .floating-element {
            position: absolute;
            border-radius: 12px;
            background: var(--gradient-1);
            opacity: 0.1;
            animation: elementFloat 15s ease-in-out infinite;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .floating-element:nth-child(1) {
            width: 120px;
            height: 80px;
            top: 15%;
            left: 10%;
            animation-delay: 0s;
            border-radius: 20px 20px 5px 20px;
        }

        .floating-element:nth-child(2) {
            width: 100px;
            height: 100px;
            top: 60%;
            left: 80%;
            animation-delay: 3s;
            border-radius: 5px 20px 20px 20px;
            background: var(--gradient-2);
        }

        .floating-element:nth-child(3) {
            width: 80px;
            height: 120px;
            top: 25%;
            left: 85%;
            animation-delay: 6s;
            border-radius: 20px 5px 20px 20px;
            background: var(--gradient-3);
        }

        .floating-element:nth-child(4) {
            width: 140px;
            height: 60px;
            top: 70%;
            left: 15%;
            animation-delay: 9s;
            border-radius: 20px 20px 20px 5px;
        }

        @keyframes elementFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg) scale(1);
            }
            25% {
                transform: translateY(-20px) rotate(5deg) scale(1.05);
            }
            50% {
                transform: translateY(10px) rotate(-3deg) scale(0.95);
            }
            75% {
                transform: translateY(-15px) rotate(2deg) scale(1.02);
            }
        }

        .subtle-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(var(--border-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--border-color) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.03;
            animation: gridMove 30s linear infinite;
        }

        @keyframes gridMove {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(50px, 50px);
            }
        }

        /* Header */
        .header {
            background: var(--gradient-1);
            color: white;
            padding: 2rem 0;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Outfit', sans-serif;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow-md);
        }

        .btn-primary {
            background: white;
            color: var(--primary-color);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            flex: 1;
        }

        /* AI Insights Panel */
        .ai-insights {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }

        .ai-insights h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .score-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .score-card {
            background: var(--hover-bg);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .score-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }

        .score-value {
            font-size: 2.5rem;
            font-weight: 800;
            font-family: 'Outfit', sans-serif;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-top: 0.5rem;
        }

        .suggestions {
            background: var(--hover-bg);
            padding: 1.5rem;
            border-radius: 12px;
            border-left: 4px solid var(--primary-color);
        }

        .suggestions h3 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .suggestion-item {
            padding: 0.75rem;
            background: var(--card-bg);
            border-radius: 8px;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: start;
            gap: 0.75rem;
            box-shadow: var(--shadow-sm);
        }

        .suggestion-item i {
            color: var(--primary-color);
            margin-top: 0.25rem;
        }

        /* Form Section */
        .form-section {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
        }

        .form-section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--hover-bg);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            font-family: 'Plus Jakarta Sans', sans-serif;
            transition: var(--transition);
            background: var(--card-bg);
            color: var(--text-color);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .btn-add {
            background: var(--gradient-1);
            color: white;
            width: 100%;
            margin-top: 1rem;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-add:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }

        /* Items List */
        .items-list {
            margin-top: 1.5rem;
        }

        .item {
            background: var(--hover-bg);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            position: relative;
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .item:hover {
            box-shadow: var(--shadow-md);
        }

        .item h4 {
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .item p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .btn-remove {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--warning-color);
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .btn-remove:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-md);
        }

        /* Skills */
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .skill-tag {
            background: var(--gradient-1);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            font-weight: 500;
            box-shadow: var(--shadow-sm);
        }

        .skill-tag button {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .skill-tag button:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Resume Preview */
        .preview-section {
            position: sticky;
            top: 6rem;
            height: fit-content;
        }

        .resume-preview {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 3rem;
            box-shadow: var(--shadow-2xl);
            border: 1px solid var(--border-color);
            max-height: calc(100vh - 8rem);
            overflow-y: auto;
        }

        .resume-preview::-webkit-scrollbar {
            width: 8px;
        }

        .resume-preview::-webkit-scrollbar-track {
            background: var(--hover-bg);
            border-radius: 4px;
        }

        .resume-preview::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        .resume-header {
            text-align: center;
            padding-bottom: 2rem;
            border-bottom: 3px solid var(--primary-color);
            margin-bottom: 2rem;
        }

        .resume-header h1 {
            font-size: 2.5rem;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .resume-header .contact-info {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .contact-info span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .resume-section {
            margin-bottom: 2rem;
        }

        .resume-section h2 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--hover-bg);
        }

        .resume-item {
            margin-bottom: 1.5rem;
        }

        .resume-item h3 {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 0.25rem;
        }

        .resume-item .meta {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .resume-item p {
            color: var(--text-color);
            line-height: 1.6;
        }

        .resume-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .resume-skill {
            background: var(--hover-bg);
            color: var(--text-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Toggle Button */
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-top: 5px;
        }

        .toggle-label {
            font-size: 16px;
            font-weight: 500;
            color: var(--text-color);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #e2e8f0;
            transition: var(--transition);
            border-radius: 30px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background: var(--gradient-1);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* FOOTER */
        footer {
            background: var(--hover-bg);
            color: var(--text-color);
            padding: 3rem 0 2rem;
            margin-top: 60px;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-column h3 {
            color: var(--text-color);
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            
            #resumePreview, #resumePreview * {
                visibility: visible;
            }
            
            #resumePreview {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none;
                border: none;
                padding: 0;
                margin: 0;
                background: white;
                color: black;
            }
            
            .resume-preview {
                max-height: none;
                overflow: visible;
            }
            
            .btn, .header, nav, footer, .form-column, .ai-insights {
                display: none !important;
            }
            
            .resume-header h1 {
                color: black;
                font-size: 28px;
            }
            
            .resume-section h2 {
                color: #2563eb;
                font-size: 18px;
            }
            
            .resume-item h3 {
                color: black;
                font-size: 16px;
            }
            
            .resume-item .meta, .contact-info span {
                color: #666;
            }
            
            .resume-skill {
                background: #f1f5f9;
                color: black;
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            .preview-section {
                position: relative;
                top: 0;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            .header-actions {
                width: 100%;
                justify-content: center;
            }

            .score-grid {
                grid-template-columns: 1fr;
            }

            .resume-preview {
                padding: 2rem;
            }

            .nav-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Background with Animation -->
    <div class="pinterest-bg">
        <div class="particles-container" id="particles"></div>
        <div class="geometric-pattern"></div>
        <div class="floating-elements">
            <div class="floating-element"></div>
            <div class="floating-element"></div>
            <div class="floating-element"></div>
            <div class="floating-element"></div>
        </div>
        <div class="subtle-grid"></div>
    </div>

    <!-- Navigation Bar -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon">CC</div>
                <div class="logo-text">Career Canvas</div>
            </a>
            
            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="about.html" class="nav-link">About Us</a>
                <a href="contact.html" class="nav-link">Contact Us</a>
                <a href="blog.html" class="nav-link">Blog</a>
                <a href="profile.html" class="nav-link">Dashboard</a>
                <a href="advicepage.html" class="nav-link">Career Advisor</a>
                <a href="#" class="nav-link active">Resume Builder</a>
                <div class="toggle-container">
                    <span class="toggle-label">Dark Mode</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <h1>
                <i class="fas fa-file-alt"></i>
                AI-Powered Resume Builder
            </h1>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="clearResume()">
                    <i class="fas fa-trash"></i>
                    Clear All
                </button>
                <button class="btn btn-primary" onclick="printResume()">
                    <i class="fas fa-print"></i>
                    Print Resume
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Left Column: Form -->
        <div class="form-column">
            <!-- AI Insights -->
            <div class="ai-insights">
                <h2>
                    <i class="fas fa-brain"></i>
                    AI-Powered Insights
                </h2>
                <div class="score-grid">
                    <div class="score-card">
                        <div class="score-value" id="overallScore">0</div>
                        <div class="score-label">Overall Score</div>
                    </div>
                    <div class="score-card">
                        <div class="score-value" id="atsScore">0</div>
                        <div class="score-label">ATS Score</div>
                    </div>
                    <div class="score-card">
                        <div class="score-value" id="completenessScore">0</div>
                        <div class="score-label">Completeness</div>
                    </div>
                </div>
                <div class="suggestions">
                    <h3><i class="fas fa-lightbulb"></i> Smart Suggestions</h3>
                    <div id="suggestionsList"></div>
                </div>
            </div>

            <!-- Personal Information -->
            <div class="form-section">
                <h2><i class="fas fa-user"></i> Personal Information</h2>
                <div class="form-group">
                    <label>Full Name *</label>
                    <input type="text" id="fullName" placeholder="John Doe" oninput="updateResume()">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="email" placeholder="john@example.com" oninput="updateResume()">
                    </div>
                    <div class="form-group">
                        <label>Phone *</label>
                        <input type="tel" id="phone" placeholder="+1 234 567 8900" oninput="updateResume()">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="location" placeholder="City, Country" oninput="updateResume()">
                    </div>
                    <div class="form-group">
                        <label>LinkedIn</label>
                        <input type="url" id="linkedin" placeholder="linkedin.com/in/johndoe" oninput="updateResume()">
                    </div>
                </div>
                <div class="form-group">
                    <label>Professional Summary</label>
                    <textarea id="summary" placeholder="Brief overview of your professional background and goals..." oninput="updateResume()"></textarea>
                    <!-- Added AI-powered text improvement button -->
                    <button class="btn-add" onclick="improveSummary()">
                        <i class="fas fa-magic"></i>
                        <span id="improveButtonText">Improve with AI</span>
                    </button>
                </div>
            </div>

            <!-- Education -->
            <div class="form-section">
                <h2><i class="fas fa-graduation-cap"></i> Education</h2>
                <div class="form-group">
                    <label>Degree</label>
                    <input type="text" id="degree" placeholder="Bachelor of Science in Computer Science">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Institution</label>
                        <input type="text" id="institution" placeholder="University Name">
                    </div>
                    <div class="form-group">
                        <label>Year</label>
                        <input type="text" id="eduYear" placeholder="2020 - 2024">
                    </div>
                </div>
                <div class="form-group">
                    <label>Details</label>
                    <textarea id="eduDetails" placeholder="GPA, honors, relevant coursework..."></textarea>
                </div>
                <button class="btn-add" onclick="addEducation()">
                    <i class="fas fa-plus"></i>
                    Add Education
                </button>
                <div class="items-list" id="educationList"></div>
            </div>

            <!-- Experience -->
            <div class="form-section">
                <h2><i class="fas fa-briefcase"></i> Work Experience</h2>
                <div class="form-group">
                    <label>Job Title</label>
                    <input type="text" id="jobTitle" placeholder="Software Engineer">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" id="company" placeholder="Company Name">
                    </div>
                    <div class="form-group">
                        <label>Duration</label>
                        <input type="text" id="duration" placeholder="Jan 2023 - Present">
                    </div>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="jobDescription" placeholder="Key responsibilities and achievements..."></textarea>
                </div>
                <button class="btn-add" onclick="addExperience()">
                    <i class="fas fa-plus"></i>
                    Add Experience
                </button>
                <div class="items-list" id="experienceList"></div>
            </div>

            <!-- Skills -->
            <div class="form-section">
                <h2><i class="fas fa-code"></i> Skills</h2>
                <div class="form-group">
                    <label>Add Skill</label>
                    <input type="text" id="skillInput" placeholder="e.g., JavaScript, Python, React" onkeypress="if(event.key==='Enter') addSkill()">
                </div>
                <button class="btn-add" onclick="addSkill()">
                    <i class="fas fa-plus"></i>
                    Add Skill
                </button>
                <div class="skills-container" id="skillsList"></div>
            </div>

            <!-- Projects -->
            <div class="form-section">
                <h2><i class="fas fa-project-diagram"></i> Projects</h2>
                <div class="form-group">
                    <label>Project Name</label>
                    <input type="text" id="projectName" placeholder="E-commerce Platform">
                </div>
                <div class="form-group">
                    <label>Technologies</label>
                    <input type="text" id="projectTech" placeholder="React, Node.js, MongoDB">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="projectDesc" placeholder="Project details and your contributions..."></textarea>
                </div>
                <button class="btn-add" onclick="addProject()">
                    <i class="fas fa-plus"></i>
                    Add Project
                </button>
                <div class="items-list" id="projectsList"></div>
            </div>
        </div>

        <!-- Right Column: Preview -->
        <div class="preview-section">
            <div class="resume-preview" id="resumePreview">
                <div class="resume-header">
                    <h1 id="previewName">Your Name</h1>
                    <div class="contact-info">
                        <span id="previewEmail"><i class="fas fa-envelope"></i> email@example.com</span>
                        <span id="previewPhone"><i class="fas fa-phone"></i> +1 234 567 8900</span>
                        <span id="previewLocation"><i class="fas fa-map-marker-alt"></i> Location</span>
                        <span id="previewLinkedin"><i class="fab fa-linkedin"></i> LinkedIn</span>
                    </div>
                </div>

                <div class="resume-section" id="summarySection" style="display: none;">
                    <h2>Professional Summary</h2>
                    <p id="previewSummary"></p>
                </div>

                <div class="resume-section" id="educationSection" style="display: none;">
                    <h2>Education</h2>
                    <div id="previewEducation"></div>
                </div>

                <div class="resume-section" id="experienceSection" style="display: none;">
                    <h2>Work Experience</h2>
                    <div id="previewExperience"></div>
                </div>

                <div class="resume-section" id="skillsSection" style="display: none;">
                    <h2>Skills</h2>
                    <div class="resume-skills" id="previewSkills"></div>
                </div>

                <div class="resume-section" id="projectsSection" style="display: none;">
                    <h2>Projects</h2>
                    <div id="previewProjects"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Career Canvas</h3>
                <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 1rem; line-height: 1.6;">Helping professionals discover and achieve their ideal career paths through personalized guidance and expert insights.</p>
            </div>
            
            <div class="footer-column">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="#">Career Guides</a></li>
                    <li><a href="#">Blog</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Company</h3>
                <ul class="footer-links">
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Careers</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Career Canvas. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Create animated particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size between 5 and 15px
                const size = Math.random() * 10 + 5;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random position
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // Random animation duration between 10 and 20s
                const duration = Math.random() * 10 + 10;
                particle.style.animationDuration = `${duration}s`;
                
                // Random delay
                particle.style.animationDelay = `${Math.random() * 5}s`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Initialize particles
        createParticles();

        // Dark mode toggle functionality
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;

        // Check for saved theme preference or respect OS preference
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        const currentTheme = localStorage.getItem('theme');
        
        if (currentTheme === 'dark' || (!currentTheme && prefersDarkScheme.matches)) {
            body.classList.add('dark-mode');
            darkModeToggle.checked = true;
        }

        // Toggle dark mode
        darkModeToggle.addEventListener('change', () => {
            if (darkModeToggle.checked) {
                body.classList.add('dark-mode');
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark-mode');
                localStorage.setItem('theme', 'light');
            }
        });

        // ML-Powered Resume Data Structure
        let resumeData = {
            personal: {},
            education: [],
            experience: [],
            skills: [],
            projects: []
        };

        // ML Algorithm: TF-IDF inspired keyword extraction
        function extractKeywords(text) {
            const stopWords = new Set(['the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'from', 'as', 'is', 'was', 'are', 'were', 'been', 'be', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should']);
            
            const words = text.toLowerCase()
                .replace(/[^\w\s]/g, ' ')
                .split(/\s+/)
                .filter(word => word.length > 3 && !stopWords.has(word));
            
            // Calculate term frequency
            const termFreq = {};
            words.forEach(word => {
                termFreq[word] = (termFreq[word] || 0) + 1;
            });
            
            // Sort by frequency and return top keywords
            return Object.entries(termFreq)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10)
                .map(([word]) => word);
        }

        // ML Algorithm: Cosine Similarity for skill matching
        function calculateSkillRelevance(skills, targetRole = 'software engineer') {
            const roleKeywords = {
                'software engineer': ['javascript', 'python', 'java', 'react', 'node', 'sql', 'git', 'api', 'testing', 'agile'],
                'data scientist': ['python', 'machine learning', 'statistics', 'sql', 'tensorflow', 'pandas', 'visualization', 'r', 'deep learning'],
                'product manager': ['agile', 'scrum', 'roadmap', 'stakeholder', 'analytics', 'user research', 'jira', 'strategy']
            };
            
            const targetSkills = roleKeywords[targetRole.toLowerCase()] || roleKeywords['software engineer'];
            const userSkills = skills.map(s => s.toLowerCase());
            
            // Calculate Jaccard similarity
            const intersection = userSkills.filter(s => 
                targetSkills.some(t => s.includes(t) || t.includes(s))
            ).length;
            
            const union = new Set([...userSkills, ...targetSkills]).size;
            
            return Math.round((intersection / union) * 100);
        }

        // ML Algorithm: ATS Score Calculation using weighted features
        function calculateATSScore() {
            let score = 0;
            const weights = {
                hasEmail: 10,
                hasPhone: 10,
                hasLocation: 5,
                hasSummary: 15,
                hasEducation: 15,
                hasExperience: 20,
                hasSkills: 15,
                hasProjects: 10,
                keywordDensity: 10
            };
            
            // Check each component
            if (resumeData.personal.email) score += weights.hasEmail;
            if (resumeData.personal.phone) score += weights.hasPhone;
            if (resumeData.personal.location) score += weights.hasLocation;
            if (resumeData.personal.summary && resumeData.personal.summary.length > 50) score += weights.hasSummary;
            if (resumeData.education.length > 0) score += weights.hasEducation;
            if (resumeData.experience.length > 0) score += weights.hasExperience;
            if (resumeData.skills.length >= 5) score += weights.hasSkills;
            if (resumeData.projects.length > 0) score += weights.hasProjects;
            
            // Keyword density analysis
            const allText = JSON.stringify(resumeData).toLowerCase();
            const keywords = extractKeywords(allText);
            if (keywords.length >= 8) score += weights.keywordDensity;
            
            return Math.min(100, score);
        }

        // ML Algorithm: Resume Completeness Score
        function calculateCompletenessScore() {
            const requiredFields = [
                resumeData.personal.name,
                resumeData.personal.email,
                resumeData.personal.phone,
                resumeData.personal.summary,
                resumeData.education.length > 0,
                resumeData.experience.length > 0,
                resumeData.skills.length >= 5,
                resumeData.projects.length > 0
            ];
            
            const filledFields = requiredFields.filter(Boolean).length;
            return Math.round((filledFields / requiredFields.length) * 100);
        }

        // ML Algorithm: Content Quality Analysis using NLP-inspired techniques
        function analyzeContentQuality(text) {
            if (!text || text.length < 20) return { score: 0, issues: ['Too short'] };
            
            const issues = [];
            let score = 100;
            
            // Check for action verbs (important for resume impact)
            const actionVerbs = ['developed', 'created', 'managed', 'led', 'implemented', 'designed', 'built', 'improved', 'increased', 'reduced'];
            const hasActionVerbs = actionVerbs.some(verb => text.toLowerCase().includes(verb));
            if (!hasActionVerbs) {
                issues.push('Add action verbs (developed, created, managed, etc.)');
                score -= 20;
            }
            
            // Check for quantifiable achievements
            const hasNumbers = /\d+/.test(text);
            if (!hasNumbers) {
                issues.push('Include quantifiable achievements (numbers, percentages)');
                score -= 15;
            }
            
            // Check sentence length (readability)
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const avgLength = sentences.reduce((sum, s) => sum + s.split(' ').length, 0) / sentences.length;
            if (avgLength > 25) {
                issues.push('Simplify sentences for better readability');
                score -= 10;
            }
            
            return { score: Math.max(0, score), issues };
        }

        // ML Algorithm: Smart Suggestions Generator
        function generateSmartSuggestions() {
            const suggestions = [];
            
            // Analyze completeness
            if (!resumeData.personal.name) {
                suggestions.push({ icon: 'user', text: 'Add your full name to get started' });
            }
            
            if (!resumeData.personal.summary || resumeData.personal.summary.length < 100) {
                suggestions.push({ icon: 'align-left', text: 'Write a compelling professional summary (100+ words)' });
            }
            
            if (resumeData.skills.length < 5) {
                suggestions.push({ icon: 'code', text: `Add ${5 - resumeData.skills.length} more skills to reach the recommended minimum` });
            }
            
            if (resumeData.experience.length === 0) {
                suggestions.push({ icon: 'briefcase', text: 'Add work experience to showcase your professional journey' });
            }
            
            if (resumeData.projects.length === 0) {
                suggestions.push({ icon: 'project-diagram', text: 'Include projects to demonstrate practical skills' });
            }
            
            // Analyze content quality
            if (resumeData.experience.length > 0) {
                resumeData.experience.forEach((exp, idx) => {
                    const quality = analyzeContentQuality(exp.description);
                    if (quality.score < 70) {
                        suggestions.push({ 
                            icon: 'exclamation-triangle', 
                            text: `Experience ${idx + 1}: ${quality.issues[0]}` 
                        });
                    }
                });
            }
            
            // Skill relevance
            if (resumeData.skills.length > 0) {
                const relevance = calculateSkillRelevance(resumeData.skills);
                if (relevance < 50) {
                    suggestions.push({ 
                        icon: 'chart-line', 
                        text: 'Consider adding more industry-relevant skills' 
                    });
                }
            }
            
            return suggestions.slice(0, 5); // Top 5 suggestions
        }

        // Update AI Insights
        function updateAIInsights() {
            const atsScore = calculateATSScore();
            const completenessScore = calculateCompletenessScore();
            const overallScore = Math.round((atsScore + completenessScore) / 2);
            
            document.getElementById('overallScore').textContent = overallScore;
            document.getElementById('atsScore').textContent = atsScore;
            document.getElementById('completenessScore').textContent = completenessScore;
            
            // Generate and display suggestions
            const suggestions = generateSmartSuggestions();
            const suggestionsList = document.getElementById('suggestionsList');
            
            if (suggestions.length === 0) {
                suggestionsList.innerHTML = '<div class="suggestion-item"><i class="fas fa-check-circle"></i><span>Great job! Your resume looks complete.</span></div>';
            } else {
                suggestionsList.innerHTML = suggestions.map(s => 
                    `<div class="suggestion-item">
                        <i class="fas fa-${s.icon}"></i>
                        <span>${s.text}</span>
                    </div>`
                ).join('');
            }
        }

        // Update Resume Preview
        function updateResume() {
            // Update personal info
            resumeData.personal = {
                name: document.getElementById('fullName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                location: document.getElementById('location').value,
                linkedin: document.getElementById('linkedin').value,
                summary: document.getElementById('summary').value
            };
            
            // Update preview
            document.getElementById('previewName').textContent = resumeData.personal.name || 'Your Name';
            document.getElementById('previewEmail').innerHTML = `<i class="fas fa-envelope"></i> ${resumeData.personal.email || 'email@example.com'}`;
            document.getElementById('previewPhone').innerHTML = `<i class="fas fa-phone"></i> ${resumeData.personal.phone || '+1 234 567 8900'}`;
            document.getElementById('previewLocation').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${resumeData.personal.location || 'Location'}`;
            document.getElementById('previewLinkedin').innerHTML = `<i class="fab fa-linkedin"></i> ${resumeData.personal.linkedin || 'LinkedIn'}`;
            
            // Summary
            const summarySection = document.getElementById('summarySection');
            if (resumeData.personal.summary) {
                document.getElementById('previewSummary').textContent = resumeData.personal.summary;
                summarySection.style.display = 'block';
            } else {
                summarySection.style.display = 'none';
            }
            
            // Save to localStorage
            localStorage.setItem('resumeData', JSON.stringify(resumeData));
            
            // Update AI insights
            updateAIInsights();
        }

        // Add Education
        function addEducation() {
            const degree = document.getElementById('degree').value;
            const institution = document.getElementById('institution').value;
            const year = document.getElementById('eduYear').value;
            const details = document.getElementById('eduDetails').value;
            
            if (!degree || !institution) {
                alert('Please fill in degree and institution');
                return;
            }
            
            const education = { degree, institution, year, details, id: Date.now() };
            resumeData.education.push(education);
            
            // Clear inputs
            document.getElementById('degree').value = '';
            document.getElementById('institution').value = '';
            document.getElementById('eduYear').value = '';
            document.getElementById('eduDetails').value = '';
            
            renderEducation();
            updateResume();
        }

        function renderEducation() {
            const list = document.getElementById('educationList');
            const preview = document.getElementById('previewEducation');
            const section = document.getElementById('educationSection');
            
            if (resumeData.education.length === 0) {
                list.innerHTML = '';
                section.style.display = 'none';
                return;
            }
            
            section.style.display = 'block';
            
            list.innerHTML = resumeData.education.map(edu => `
                <div class="item">
                    <button class="btn-remove" onclick="removeEducation(${edu.id})">
                        <i class="fas fa-times"></i>
                    </button>
                    <h4>${edu.degree}</h4>
                    <p><strong>${edu.institution}</strong> ${edu.year ? ` ${edu.year}` : ''}</p>
                    ${edu.details ? `<p>${edu.details}</p>` : ''}
                </div>
            `).join('');
            
            preview.innerHTML = resumeData.education.map(edu => `
                <div class="resume-item">
                    <h3>${edu.degree}</h3>
                    <div class="meta">${edu.institution} ${edu.year ? ` ${edu.year}` : ''}</div>
                    ${edu.details ? `<p>${edu.details}</p>` : ''}
                </div>
            `).join('');
        }

        function removeEducation(id) {
            resumeData.education = resumeData.education.filter(e => e.id !== id);
            renderEducation();
            updateResume();
        }

        // Add Experience
        function addExperience() {
            const title = document.getElementById('jobTitle').value;
            const company = document.getElementById('company').value;
            const duration = document.getElementById('duration').value;
            const description = document.getElementById('jobDescription').value;
            
            if (!title || !company) {
                alert('Please fill in job title and company');
                return;
            }
            
            const experience = { title, company, duration, description, id: Date.now() };
            resumeData.experience.push(experience);
            
            // Clear inputs
            document.getElementById('jobTitle').value = '';
            document.getElementById('company').value = '';
            document.getElementById('duration').value = '';
            document.getElementById('jobDescription').value = '';
            
            renderExperience();
            updateResume();
        }

        function renderExperience() {
            const list = document.getElementById('experienceList');
            const preview = document.getElementById('previewExperience');
            const section = document.getElementById('experienceSection');
            
            if (resumeData.experience.length === 0) {
                list.innerHTML = '';
                section.style.display = 'none';
                return;
            }
            
            section.style.display = 'block';
            
            list.innerHTML = resumeData.experience.map(exp => `
                <div class="item">
                    <button class="btn-remove" onclick="removeExperience(${exp.id})">
                        <i class="fas fa-times"></i>
                    </button>
                    <h4>${exp.title}</h4>
                    <p><strong>${exp.company}</strong> ${exp.duration ? ` ${exp.duration}` : ''}</p>
                    ${exp.description ? `<p>${exp.description}</p>` : ''}
                </div>
            `).join('');
            
            preview.innerHTML = resumeData.experience.map(exp => `
                <div class="resume-item">
                    <h3>${exp.title}</h3>
                    <div class="meta">${exp.company} ${exp.duration ? ` ${exp.duration}` : ''}</div>
                    ${exp.description ? `<p>${exp.description}</p>` : ''}
                </div>
            `).join('');
        }

        function removeExperience(id) {
            resumeData.experience = resumeData.experience.filter(e => e.id !== id);
            renderExperience();
            updateResume();
        }

        // Add Skill
        function addSkill() {
            const input = document.getElementById('skillInput');
            const skill = input.value.trim();
            
            if (!skill) return;
            
            if (!resumeData.skills.includes(skill)) {
                resumeData.skills.push(skill);
                input.value = '';
                renderSkills();
                updateResume();
            }
        }

        function renderSkills() {
            const list = document.getElementById('skillsList');
            const preview = document.getElementById('previewSkills');
            const section = document.getElementById('skillsSection');
            
            if (resumeData.skills.length === 0) {
                list.innerHTML = '';
                section.style.display = 'none';
                return;
            }
            
            section.style.display = 'block';
            
            list.innerHTML = resumeData.skills.map(skill => `
                <div class="skill-tag">
                    ${skill}
                    <button onclick="removeSkill('${skill}')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');
            
            preview.innerHTML = resumeData.skills.map(skill => `
                <div class="resume-skill">${skill}</div>
            `).join('');
        }

        function removeSkill(skill) {
            resumeData.skills = resumeData.skills.filter(s => s !== skill);
            renderSkills();
            updateResume();
        }

        // Add Project
        function addProject() {
            const name = document.getElementById('projectName').value;
            const tech = document.getElementById('projectTech').value;
            const description = document.getElementById('projectDesc').value;
            
            if (!name) {
                alert('Please enter project name');
                return;
            }
            
            const project = { name, tech, description, id: Date.now() };
            resumeData.projects.push(project);
            
            // Clear inputs
            document.getElementById('projectName').value = '';
            document.getElementById('projectTech').value = '';
            document.getElementById('projectDesc').value = '';
            
            renderProjects();
            updateResume();
        }

        function renderProjects() {
            const list = document.getElementById('projectsList');
            const preview = document.getElementById('previewProjects');
            const section = document.getElementById('projectsSection');
            
            if (resumeData.projects.length === 0) {
                list.innerHTML = '';
                section.style.display = 'none';
                return;
            }
            
            section.style.display = 'block';
            
            list.innerHTML = resumeData.projects.map(proj => `
                <div class="item">
                    <button class="btn-remove" onclick="removeProject(${proj.id})">
                        <i class="fas fa-times"></i>
                    </button>
                    <h4>${proj.name}</h4>
                    ${proj.tech ? `<p><strong>Technologies:</strong> ${proj.tech}</p>` : ''}
                    ${proj.description ? `<p>${proj.description}</p>` : ''}
                </div>
            `).join('');
            
            preview.innerHTML = resumeData.projects.map(proj => `
                <div class="resume-item">
                    <h3>${proj.name}</h3>
                    ${proj.tech ? `<div class="meta">${proj.tech}</div>` : ''}
                    ${proj.description ? `<p>${proj.description}</p>` : ''}
                </div>
            `).join('');
        }

        function removeProject(id) {
            resumeData.projects = resumeData.projects.filter(p => p.id !== id);
            renderProjects();
            updateResume();
        }

        // Print Resume - NEW FUNCTION
        function printResume() {
            console.log('printResume called');
            
            // Check if resume has content
            if (!resumeData.personal.name && resumeData.education.length === 0 && 
                resumeData.experience.length === 0 && resumeData.skills.length === 0) {
                alert('Please add some content to your resume before printing');
                return;
            }
            
            // Show loading indicator
            const originalButton = document.querySelector('.btn-primary');
            const originalContent = originalButton.innerHTML;
            originalButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Preparing...';
            originalButton.disabled = true;
            
            // Give a small delay to show the loading state
            setTimeout(() => {
                // Open print dialog
                window.print();
                
                // Restore button
                originalButton.innerHTML = originalContent;
                originalButton.disabled = false;
            }, 500);
        }

        // Clear Resume
        function clearResume() {
            if (confirm('Are you sure you want to clear all data?')) {
                resumeData = {
                    personal: {},
                    education: [],
                    experience: [],
                    skills: [],
                    projects: []
                };
                
                localStorage.removeItem('resumeData');
                location.reload();
            }
        }

        // Load saved data
        window.addEventListener('load', () => {
            const saved = localStorage.getItem('resumeData');
            if (saved) {
                resumeData = JSON.parse(saved);
                
                // Restore personal info
                if (resumeData.personal) {
                    document.getElementById('fullName').value = resumeData.personal.name || '';
                    document.getElementById('email').value = resumeData.personal.email || '';
                    document.getElementById('phone').value = resumeData.personal.phone || '';
                    document.getElementById('location').value = resumeData.personal.location || '';
                    document.getElementById('linkedin').value = resumeData.personal.linkedin || '';
                    document.getElementById('summary').value = resumeData.personal.summary || '';
                }
                
                // Render all sections
                renderEducation();
                renderExperience();
                renderSkills();
                renderProjects();
                updateResume();
            } else {
                updateAIInsights();
            }
        });

        async function improveSummary() {
            const summaryTextarea = document.getElementById('summary');
            const buttonText = document.getElementById('improveButtonText');
            const originalText = summaryTextarea.value.trim();
            
            console.log('improveSummary called');
            console.log('Original text:', originalText.substring(0, 50) + '...');
            
            if (!originalText) {
                alert('Please write a summary first before improving it.');
                return;
            }
            
            // Show loading state
            const originalButtonContent = buttonText.innerHTML;
            buttonText.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Improving...';
            
            try {
                console.log('Using client-side ML enhancement');
                
                const improvedText = enhanceTextWithML(originalText);
                console.log('Client-side improved text:', improvedText.substring(0, 50) + '...');
                summaryTextarea.value = improvedText;
                updateResume();
                
                buttonText.textContent = ' Improved!';
                setTimeout(() => {
                    buttonText.innerHTML = originalButtonContent;
                }, 2000);
            } catch (error) {
                console.error('Error improving text:', error);
                buttonText.innerHTML = originalButtonContent;
                alert('Failed to improve text. Please try again.');
            }
        }

        function enhanceTextWithML(text) {
            let enhanced = text;
            
            try {
                // 1. Grammar and Punctuation Correction
                enhanced = correctGrammar(enhanced);
                
                // 2. Sentence Structure Optimization
                enhanced = optimizeSentenceStructure(enhanced);
                
                // 3. Professional Tone Enhancement
                enhanced = enhanceProfessionalTone(enhanced);
                
                // 4. Action Verb Injection
                enhanced = addActionVerbs(enhanced);
                
                // 5. Remove Redundancy
                enhanced = removeRedundancy(enhanced);
                
                // 6. Capitalize properly
                enhanced = capitalizeProperNouns(enhanced);
                
                return enhanced.trim();
            } catch (error) {
                console.error('Error in ML enhancement:', error);
                return text; // Return original text if enhancement fails
            }
        }

        // ML Sub-algorithm: Grammar Correction
        function correctGrammar(text) {
            try {
                let corrected = text;
                
                // Fix spacing around punctuation
                corrected = corrected.replace(/\s+([.,!?;:])/g, '$1');
                corrected = corrected.replace(/([.,!?;:])([A-Za-z])/g, '$1 $2');
                corrected = corrected.replace(/\s{2,}/g, ' ');
                
                // Fix common typos
                corrected = corrected.replace(/\bteh\b/gi, 'the');
                corrected = corrected.replace(/\brecieve\b/gi, 'receive');
                corrected = corrected.replace(/\boccured\b/gi, 'occurred');
                corrected = corrected.replace(/\bseperate\b/gi, 'separate');
                corrected = corrected.replace(/\balot\b/gi, 'a lot');
                corrected = corrected.replace(/\bcould of\b/gi, 'could have');
                corrected = corrected.replace(/\bshould of\b/gi, 'should have');
                corrected = corrected.replace(/\bwould of\b/gi, 'would have');
                
                // Fix subject-verb agreement
                corrected = corrected.replace(/\bthey is\b/gi, 'they are');
                corrected = corrected.replace(/\bhe are\b/gi, 'he is');
                corrected = corrected.replace(/\bshe are\b/gi, 'she is');
                corrected = corrected.replace(/\bit are\b/gi, 'it is');
                
                // Ensure first letter is capitalized
                if (corrected.length > 0) {
                    corrected = corrected.charAt(0).toUpperCase() + corrected.slice(1);
                }
                
                // Ensure ends with period if it's a complete sentence
                const sentences = corrected.split(/[.!?]+/).filter(s => s.trim());
                if (sentences.length > 0 && !/[.!?]$/.test(corrected.trim())) {
                    corrected = corrected.trim() + '.';
                }
                
                return corrected;
            } catch (error) {
                console.error('Error in grammar correction:', error);
                return text;
            }
        }

        // ML Sub-algorithm: Sentence Structure Optimization
        function optimizeSentenceStructure(text) {
            try {
                const sentences = text.split(/([.!?]+)/).filter(s => s.trim());
                const optimized = [];
                
                for (let i = 0; i < sentences.length; i += 2) {
                    let sentence = sentences[i].trim();
                    const punctuation = sentences[i + 1] || '.';
                    
                    if (sentence.length === 0) continue;
                    
                    // Break overly long sentences (>25 words) into two
                    const words = sentence.split(/\s+/);
                    if (words.length > 25) {
                        const midpoint = Math.floor(words.length / 2);
                        const part1 = words.slice(0, midpoint).join(' ');
                        const part2 = words.slice(midpoint).join(' ');
                        
                        // Find a good breaking point (after a comma or conjunction)
                        const breakPoints = [', and', ', but', ', however', ', although', ', while'];
                        let breakIndex = -1;
                        
                        for (const point of breakPoints) {
                            const index = part1.lastIndexOf(point);
                            if (index > part1.length / 2) {
                                breakIndex = index + point.length;
                                break;
                            }
                        }
                        
                        if (breakIndex > 0) {
                            const newPart1 = part1.substring(0, breakIndex);
                            const newPart2 = part1.substring(breakIndex) + ' ' + part2;
                            optimized.push(newPart1 + '.', newPart2 + punctuation);
                        } else {
                            optimized.push(part1 + '.', part2 + punctuation);
                        }
                    } else {
                        optimized.push(sentence + punctuation);
                    }
                }
                
                return optimized.join(' ').replace(/\s+/g, ' ').trim();
            } catch (error) {
                console.error('Error in sentence optimization:', error);
                return text;
            }
        }

        // ML Sub-algorithm: Professional Tone Enhancement
        function enhanceProfessionalTone(text) {
            try {
                let enhanced = text;
                
                // Casual to professional replacements
                const replacements = [
                    [/\bkinda\b/gi, 'somewhat'],
                    [/\bgonna\b/gi, 'going to'],
                    [/\bwanna\b/gi, 'want to'],
                    [/\bgot\b/gi, 'obtained'],
                    [/\blots of\b/gi, 'numerous'],
                    [/\bstuff\b/gi, 'materials'],
                    [/\bthings\b/gi, 'aspects'],
                    [/\bguys\b/gi, 'team members'],
                    [/\bhelped with\b/gi, 'contributed to'],
                    [/\bworked on\b/gi, 'developed'],
                    [/\bused\b/gi, 'utilized'],
                    [/\bmade\b/gi, 'created'],
                    [/\bfixed\b/gi, 'resolved'],
                    [/\bdid\b/gi, 'performed'],
                    [/\bbig\b/gi, 'significant'],
                    [/\bsmall\b/gi, 'modest'],
                    [/\bgood\b/gi, 'effective'],
                    [/\bbad\b/gi, 'ineffective'],
                    [/\bnice\b/gi, 'favorable'],
                    [/\beasy\b/gi, 'straightforward'],
                    [/\bhard\b/gi, 'challenging'],
                ];
                
                replacements.forEach(([pattern, replacement]) => {
                    enhanced = enhanced.replace(pattern, replacement);
                });
                
                return enhanced;
            } catch (error) {
                console.error('Error in tone enhancement:', error);
                return text;
            }
        }

        // ML Sub-algorithm: Action Verb Injection
        function addActionVerbs(text) {
            try {
                const actionVerbs = [
                    'achieved', 'improved', 'trained', 'managed', 'created',
                    'designed', 'developed', 'implemented', 'increased', 'reduced',
                    'led', 'established', 'optimized', 'streamlined', 'enhanced',
                    'coordinated', 'facilitated', 'generated', 'initiated', 'launched',
                    'negotiated', 'organized', 'oversaw', 'performed', 'planned',
                    'produced', 'recommended', 'reorganized', 'resolved', 'revised',
                    'strengthened', 'supervised', 'transformed'
                ];
                
                // Check if text already has action verbs
                const hasActionVerb = actionVerbs.some(verb => 
                    text.toLowerCase().includes(verb)
                );
                
                if (!hasActionVerb) {
                    // Add a strong opening with a random action verb
                    const randomVerb = actionVerbs[Math.floor(Math.random() * actionVerbs.length)];
                    const sentences = text.split(/\.\s+/);
                    if (sentences.length > 0 && sentences[0].length > 0) {
                        const firstSentence = sentences[0];
                        if (!/^(experienced|seasoned|accomplished|skilled)/i.test(firstSentence)) {
                            sentences[0] = `${randomVerb.charAt(0).toUpperCase() + randomVerb.slice(1)} professional with ` + 
                                firstSentence.charAt(0).toLowerCase() + firstSentence.slice(1);
                        }
                    }
                    return sentences.join('. ') + (text.endsWith('.') ? '' : '.');
                }
                
                return text;
            } catch (error) {
                console.error('Error in action verb injection:', error);
                return text;
            }
        }

        // ML Sub-algorithm: Redundancy Removal
        function removeRedundancy(text) {
            try {
                // Remove repeated consecutive words
                let words = text.split(/\s+/);
                const filtered = [];
                
                for (let i = 0; i < words.length; i++) {
                    if (i === 0) {
                        filtered.push(words[i]);
                    } else {
                        const prevWord = words[i - 1].toLowerCase().replace(/[.,!?;:]/, '');
                        const currentWord = words[i].toLowerCase().replace(/[.,!?;:]/, '');
                        if (prevWord !== currentWord) {
                            filtered.push(words[i]);
                        }
                    }
                }
                
                // Remove common redundant phrases
                let result = filtered.join(' ');
                const redundantPhrases = [
                    [/basic fundamentals/gi, 'fundamentals'],
                    [/end result/gi, 'result'],
                    [/past history/gi, 'history'],
                    [/future plans/gi, 'plans'],
                    [/true facts/gi, 'facts'],
                    [/unexpected surprise/gi, 'surprise'],
                    [/advance planning/gi, 'planning'],
                    [/consensus of opinion/gi, 'consensus'],
                    [/close proximity/gi, 'proximity'],
                    [/exactly the same/gi, 'identical'],
                    [/repeat again/gi, 'repeat'],
                    [/combined together/gi, 'combined']
                ];
                
                redundantPhrases.forEach(([pattern, replacement]) => {
                    result = result.replace(pattern, replacement);
                });
                
                return result;
            } catch (error) {
                console.error('Error in redundancy removal:', error);
                return text;
            }
        }

        // ML Sub-algorithm: Proper Noun Capitalization
        function capitalizeProperNouns(text) {
            try {
                const properNouns = {
                    'javascript': 'JavaScript',
                    'typescript': 'TypeScript',
                    'python': 'Python',
                    'java': 'Java',
                    'react': 'React',
                    'angular': 'Angular',
                    'vue': 'Vue',
                    'node': 'Node.js',
                    'nodejs': 'Node.js',
                    'mongodb': 'MongoDB',
                    'sql': 'SQL',
                    'aws': 'AWS',
                    'azure': 'Azure',
                    'docker': 'Docker',
                    'kubernetes': 'Kubernetes',
                    'git': 'Git',
                    'github': 'GitHub',
                    'gitlab': 'GitLab',
                    'html': 'HTML',
                    'css': 'CSS',
                    'api': 'API',
                    'rest': 'REST',
                    'graphql': 'GraphQL'
                };
                
                let capitalized = text;
                
                Object.entries(properNouns).forEach(([lower, proper]) => {
                    const pattern = new RegExp(`\\b${lower}\\b`, 'gi');
                    capitalized = capitalized.replace(pattern, proper);
                });
                
                return capitalized;
            } catch (error) {
                console.error('Error in capitalization:', error);
                return text;
            }
        }
    </script>
</body>
</html>